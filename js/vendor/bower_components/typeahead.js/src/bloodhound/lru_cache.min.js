var LruCache=(function(){function b(i){this.maxSize=_.isNumber(i)?i:100;this.reset();if(this.maxSize<=0){this.set=this.get=$.noop}}_.mixin(b.prototype,{set:function h(i,l){var k=this.list.tail,j;if(this.size>=this.maxSize){this.list.remove(k);delete this.hash[k.key];this.size--}if(j=this.hash[i]){j.val=l;this.list.moveToFront(j)}else{j=new c(i,l);this.list.add(j);this.hash[i]=j;this.size++}},get:function d(i){var j=this.hash[i];if(j){this.list.moveToFront(j);return j.val}},reset:function f(){this.size=0;this.hash={};this.list=new e()}});function e(){this.head=this.tail=null}_.mixin(e.prototype,{add:function g(i){if(this.head){i.next=this.head;this.head.prev=i}this.head=i;this.tail=this.tail||i},remove:function a(i){i.prev?i.prev.next=i.next:this.head=i.next;i.next?i.next.prev=i.prev:this.tail=i.prev},moveToFront:function(i){this.remove(i);this.add(i)}});function c(i,j){this.key=i;this.val=j;this.prev=this.next=null}return b})();